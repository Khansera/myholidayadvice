function popup(e,t,o){t.addEventListener("click",()=>{o.classList.toggle(`${e}`)})}const popup_content=document.querySelector(".popup");function setInputValue(e,t){e.value=t}popup("show",document.querySelector(".show-popup"),popup_content),popup("show",document.querySelector(".close-popup"),popup_content);const booking_form=document.getElementById("booking-form"),selected_input=document.getElementById("package"),book_now_btn=document.getElementById("book-now");book_now_btn.addEventListener("click",()=>{});const selected_value=document.getElementById("book-now").getAttribute("data-tour");function count(){let e=Number(document.getElementById("total-count").value),t=Number(document.getElementById("childrens").value),o=Number(document.getElementById("adults").value),n=document.getElementById("warning"),r=document.getElementById("total-count");return 0===t&&0===o?(n.classList.remove("show"),r.style.border="",!0):t+o===e?(n.classList.remove("show"),r.style.border="",!0):(r.style.border="1px solid red",n.classList.add("show"),!1)}function checkDateTime(e){let t=new Date(e),o=new Date;return!(t<o)}booking_form.addEventListener("submit",e=>{e.preventDefault();let t=count();if(!t)return Swal.fire({title:"Error",text:"Childrens + Adults is not equal to total person count, please check the calculation.",icon:"error",confirmButtonColor:"#f87c00"});let o=new FormData(booking_form),n=checkDateTime(o.get("date"));if(!n)return Swal.fire({title:"Error",text:"Error setting date to past",icon:"error",confirmButtonColor:"#f87c00"});for(let[r,l]of o.entries())o.set(r,DOMPurify.sanitize(l));fetch("/packages/book",{method:"POST",body:o}).then(e=>e.json()).then(e=>{Swal.fire({title:e.title,text:e.schemaError?e.message[0].msg:e.message,icon:e.title,confirmButtonColor:"#f87c00"})}).catch(e=>{console.log(e),Swal.fire({title:"Error",text:"An Error Occured",icon:"error",confirmButtonColor:"#f87c00"})})});